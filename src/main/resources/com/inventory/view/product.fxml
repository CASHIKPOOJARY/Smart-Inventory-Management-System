<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<BorderPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.inventory.controller.ProductController">

    <!-- âœ… Top toolbar -->
    <top>
        <ToolBar>
            <Label text="Product Management" style="-fx-font-size: 16px; -fx-font-weight: bold;" />
            <Pane HBox.hgrow="ALWAYS"/>
            <Button text="Back to Dashboard" onAction="#handleBack"/>
        </ToolBar>
    </top>

    <!-- âœ… Center section with Search + Table -->
    <center>
        <VBox spacing="10">
            <children>
                <!-- ðŸ” Search bar -->
                <HBox spacing="10">
                    <children>
                        <TextField fx:id="searchField" promptText="Search by name..." prefWidth="250"/>
                        <ComboBox fx:id="searchCategoryBox" promptText="Filter by category" prefWidth="180"/>
                        <Button text="Search" onAction="#searchProducts"/>
                        <Button text="Clear" onAction="#refreshTable"/>
                    </children>
                </HBox>

                <!-- ðŸ“‹ Product Table -->
                <TableView fx:id="productTable" prefHeight="300">
                    <columns>
                        <TableColumn fx:id="colId" text="ID" prefWidth="50"/>
                        <TableColumn fx:id="colName" text="Name" prefWidth="150"/>
                        <TableColumn fx:id="colQuantity" text="Quantity" prefWidth="100"/>
                        <TableColumn fx:id="colPrice" text="Price" prefWidth="100"/>
                        <TableColumn fx:id="colReorder" text="Reorder Level" prefWidth="120"/>
                        <TableColumn fx:id="colSupplier" text="Supplier" prefWidth="150"/>
                        <TableColumn fx:id="colCategory" text="Category" prefWidth="150"/>
                    </columns>
                </TableView>
            </children>
        </VBox>
    </center>

    <!-- âœ… Bottom section with input fields + buttons -->
    <bottom>
        <VBox spacing="10">
            <padding>
                <Insets top="10" right="10" bottom="10" left="10"/>
            </padding>
            <children>
                <!-- Input Fields -->
                <HBox spacing="10">
                    <children>
                        <TextField fx:id="nameField" promptText="Product Name" />
                        <TextField fx:id="quantityField" promptText="Quantity" />
                        <TextField fx:id="priceField" promptText="Price" />
                        <TextField fx:id="reorderField" promptText="Reorder Level" />
                        <ComboBox fx:id="supplierComboBox" promptText="Select Supplier" prefWidth="200"/>
                        <ComboBox fx:id="categoryComboBox" promptText="Select Category" prefWidth="180"/>
                    </children>
                </HBox>

                <!-- Buttons -->
                <HBox spacing="10">
                    <children>
                        <Button text="Add" onAction="#addProduct"/>
                        <Button text="Update" onAction="#updateProduct"/>
                        <Button text="Delete" onAction="#deleteProduct"/>
                    </children>
                </HBox>
            </children>
        </VBox>
    </bottom>

</BorderPane>
